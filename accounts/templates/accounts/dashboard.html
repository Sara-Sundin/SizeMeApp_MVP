{% extends "base.html" %}
{% load static %}

{% block content %}
           
    <!-- Starter Plan Section -->
<section id="dashboard" class="text-center">

     <!-- Dashboard Heading -->
     <div class="mb-5 text-center text-md-start">
        <h1>Welcome to your account, {{ user.first_name }}!</h1>
    </div>

    <!-- Profile Section -->
    <div class="container py-5">
        <div class="row align-items-center mb-5">
            <!-- Profile Picture -->
            <div class="col-12 col-md-3 text-center text-md-start mb-4 mb-md-0">
                <div class="profile-picture-placeholder rounded-circle bg-secondary" style="width: 120px; height: 120px;"></div>
            </div>
    
            <!-- User Info -->
            <div class="col-12 col-md-9">
                <div class="mb-3">
                    <strong>Full Name:</strong> {{ user.full_name }}
                </div>
                <div class="mb-3">
                    <strong>Email:</strong> {{ user.email }}
                </div>
                <a href="#" class="btn btn-outline-primary mt-2">Update your profile</a>
            </div>
        </div>
    
        <!-- Button Section (Two Columns) -->
        <div class="row g-3">
            <div class="col-12 col-md-6 d-grid">
                <a href="#" class="btn btn-secondary">View Orders</a>
            </div>
            <div class="col-12 col-md-6 d-grid">
                <a href="#" class="btn btn-secondary">Manage Subscriptions</a>
            </div>
        </div>
    </div>    
</section>

{% if show_modal %}
<script>
  window.onload = function () {
    const modal = new bootstrap.Modal(document.getElementById('measurementModal'));
    modal.show();
  }
</script>
{% endif %}

<!-- Modal Measurements -->
<div class="modal fade" id="measurementModal" tabindex="-1" aria-labelledby="measurementsLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form method="post" action="{% url 'update_measurements' %}">
        {% csrf_token %}
        <div class="modal-header">
          <h5 class="modal-title" id="measurementsLabel">Enter Your Measurements</h5>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="chest">Chest (cm)</label>
            <input type="number" name="chest" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="waist">Waist (cm)</label>
            <input type="number" name="waist" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="hips">Hips (cm)</label>
            <input type="number" name="hips" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="shoulders">Shoulders (cm)</label>
            <input type="number" name="shoulders" class="form-control" required>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Save Measurements</button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}