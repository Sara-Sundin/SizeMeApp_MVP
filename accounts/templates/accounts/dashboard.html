{% extends "base.html" %}
{% load static %}

{% block content %}
           
    <!-- Starter Plan Section -->
<section id="dashboard" class="text-center">

     <!-- Dashboard Heading -->
     <div class="px-2 text-center py-lg-4 mt-lg-4">
        <h1>Welcome to your account, {{ user.get_short_name }}!</h1>
    </div>

      <!-- Profile Section -->
    <div id="profile" class="container p-4">
      <div class="row align-items-center mb-5">
        
        <!-- Profile Picture + Info -->
        <div class="col-12 col-md-6 d-flex align-items-center mb-4 mb-md-0">
          <!-- Profile Picture -->
          <div class="me-3">
            <div class="profile-picture-placeholder rounded-circle bg-secondary" style="width: 120px; height: 120px;"></div>
          </div>
          <!-- User Info -->
          <div class="text-start">
            <div class="mb-2">
              <strong>Name:</strong> {{ user.full_name }}
            </div>
            <div>
              <strong>Email:</strong> {{ user.email }}
            </div>
          </div>
        </div>

        <!-- Update Button -->
        <div class="col-12 col-md-6 text-center">
          <a href="#" class="cta-btn cta-btn--primary" data-bs-toggle="modal" data-bs-target="#profileModal">
            Update your profile
          </a>          
        </div>
      </div>

      <!-- Instructions (Two Columns) -->
      <div class="row g-3">
        <div class="col-12 col-md-6 d-grid px-4">
          <h3>1. Your Measurements</h3>
          <p>Add your measurements before entering the application.
            <br>
            <br>
            Come back here to update your measurements.</p>
            <a href="#" class="cta-btn cta-btn--tertiary" data-bs-toggle="modal" data-bs-target="#measurementModal">
              Update Measurements
            </a>            
        </div>
        <div class="col-12 col-md-6 d-grid px-4">
          <h3>2. Start Browsing</h3>
          <p>Your will be redirected to our prototype webshop to try out the app.
            <br>
            <br>
            Done with sizing? Just hit the exit button in the webshop.</p>
          <a href="{% url 'webshop' %}" class="cta-btn cta-btn--secondary">Enter the application</a>
        </div>
      </div>
    </div>  
</section>

  {% if show_modal %}
  <script>
    window.onload = function () {
      const modal = new bootstrap.Modal(document.getElementById('loginMeasurementModal'));
      modal.show();
    }
  </script>
  {% endif %}

  {% if redirect_modal %}
  <script>
    window.onload = function () {
      const redirectModal = new bootstrap.Modal(document.getElementById('redirectModal'));
      redirectModal.show();
    };
  </script>
{% endif %}

  {% if show_profile_updated_modal %}
<script>
  window.onload = function () {
    const successModalEl = document.getElementById('profileUpdatedModal');
    const successModal = new bootstrap.Modal(successModalEl);
    successModal.show();

    // Auto-dismiss after 2 seconds
    setTimeout(() => {
      successModal.hide();
    }, 2000);
  }
</script>
{% endif %}


{% if show_measurements_updated_modal %}
<script>
  window.onload = function () {
    const measureModalEl = document.getElementById('measurementsUpdatedModal');
    const measureModal = new bootstrap.Modal(measureModalEl);
    measureModal.show();

    // Auto-dismiss after 2 seconds
    setTimeout(() => {
      measureModal.hide();
    }, 2000);
  }
</script>
{% endif %}

{% if show_measurements_deleted_modal %}
<script>
  window.onload = function () {
    const measureModalEl = document.getElementById('measurementsDeletedModal');
    const measureModal = new bootstrap.Modal(measureModalEl);
    measureModal.show();

    // Auto-dismiss after 2 seconds
    setTimeout(() => {
      measureModal.hide();
    }, 2000);
  }
</script>
{% endif %}

  {% include "accounts/modals.html" %}

{% endblock %}